<!DOCTYPE html>
<html>
<head>
    <title>Convert JSON Data to HTML Table Example</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <style>
        table, th, td 
        {
            margin:10px 0;
            border:solid 1px #333;
            padding:2px 4px;
            font:15px Verdana;
        }
        th {
            font-weight:bold;
        }
    </style>
</head>
<body>
    <input type="button" onclick="CreateTableFromJSON()" value="Create Table From JSON" />
    <div id="showData"></div>
</body>
<script src="config.js"></script>
<script>
    function CreateTableFromJSON() {
	    // copied from http://www.encodedna.com/javascript/populate-json-data-to-html-table-using-javascript.htm
        var myConfig = [jsonurl];

        // CREATE DYNAMIC TABLE.
        var table = document.createElement("table"); // !

        // CREATE HTML TABLE HEADER ROW USING THE EXTRACTED HEADERS ABOVE.

        var tr = table.insertRow(-1);                   // TABLE ROW.
        var langcell = tr.insertCell(-1);
        langcell.innerHTML = "ISO Codes";
        var urlcel = tr.insertCell(-1);
        urlcel.innerHTML = "URL";

        for (var i = 0; i < myConfig.length; i++) {
        for (var key in myConfig[i]) {
            tr = table.insertRow(-1);
            var tabcell = tr.insertCell(-1)
                tabcell.innerHTML = key;
            var tabcell2 = tr.insertCell(-1)
                var urlarray = jsonurl[key].split('/')
                var urltext = urlarray[2]
                tabcell2.innerHTML = '<a href="'+urlarray[0]+'//'+urltext+'">'+urltext+'</a>'
            }
        }

        // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
        var divContainer = document.getElementById("showData");
        divContainer.innerHTML = "";
        divContainer.appendChild(table);
    }
</script>
</html>
